(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27e61158"],{"293a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"content-container pa-0"},[null!=e.activeContact?s("Message",{staticClass:"message"}):s("v-container",{staticClass:"no-msg-placeholder"},[s("small",[e._v("Click one of the contacts to start chatting!")])])],1)},n=[],i=s("5530"),c=(s("7db0"),s("2f62")),o=s("9800"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"message-card",attrs:{tile:""}},[a("nav",{staticClass:"navbar navbar-light bg-light pa-2"},[a("a",{staticClass:"navbar-brand"},[a("img",{staticClass:"mr-2",attrs:{src:s("cf05"),width:"30",height:"30",alt:"",loading:"lazy"}}),e._v(" "+e._s(e.activeContact.name)+" ")])]),a("main",e._l(e.thisRoomMessages,(function(t){return a("div",{key:t._id,staticClass:"message-item",class:t.sender==e.user?"mine":"others"},[a("div",{staticClass:"message-box"},[a("p",{staticClass:"text-primary"},[e._v(e._s(t.message))])])])})),0),a("footer",{staticClass:"bg-light"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{name:"message",type:"text",placeholder:"Type a message..."},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("v-btn",{staticClass:"ma-2",attrs:{type:"submit",color:"primary"},on:{click:function(t){e.loader="loading"}}},[e._v(" Send ")])],1)])])},l=[],u=(s("4de4"),s("caad"),s("2532"),{name:"Message",data:function(){return{message:""}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["getMessages","sendMessage"])),{},{onSubmit:function(){var e=this,t={receiverId:this.activeContact._id,message:this.message};this.sendMessage(t).then((function(t){console.log(t.data.value.message),e.$socket.emit("send-message",t.data.value.message),e.getMessages()})),this.message=""}}),computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["activeContact","messages","socket"])),{},{user:function(){return localStorage.getItem("userId")},thisRoomMessages:function(){var e=this;return this.messages.filter((function(t){return t.room.participants.includes(e.activeContact._id)&&t.room.participants.includes(e.user)}))}})}),g=u,m=(s("560a"),s("2877")),d=s("6544"),p=s.n(d),f=s("8336"),b=s("b0af"),v=Object(m["a"])(g,r,l,!1,null,null,null),h=v.exports;p()(v,{VBtn:f["a"],VCard:b["a"]});var C={components:{ContactList:o["a"],Message:h},computed:Object(i["a"])({},Object(c["c"])(["people","activeContact"])),methods:Object(i["a"])({},Object(c["b"])(["getPeople","getMessages"])),created:function(){var e=this;this.getMessages();var t=this;this.sockets.subscribe("online",(function(e){console.log(t.people),t.people.find((function(t){return t._id==e})).isOnline=!0})),this.sockets.subscribe("offline",(function(s){console.log(e.people),t.people.find((function(e){return e._id==s})).isOnline=!1})),this.getPeople(),this.$socket.emit("online",localStorage.getItem("userId"))},beforeDestroy:function(){this.$socket.emit("offline",localStorage.getItem("userId"))}},_=C,O=(s("5029"),s("a523")),j=Object(m["a"])(_,a,n,!1,null,"72cdb187",null);t["default"]=j.exports;p()(j,{VContainer:O["a"]})},"39cf":function(e,t,s){},5029:function(e,t,s){"use strict";s("39cf")},"560a":function(e,t,s){"use strict";s("8c3e")},"8c3e":function(e,t,s){},cf05:function(e,t,s){e.exports=s.p+"img/logo.82b9c7a5.png"}}]);
//# sourceMappingURL=chunk-27e61158.99ecf302.js.map